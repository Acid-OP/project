// prisma/timescale.prisma
generator timescaleClient {
  provider = "prisma-client-js"
  output   = "./generated/timescale-client"
}

datasource timescaleDb {
  provider = "postgresql"
  url      = env("TIMESCALE_DATABASE_URL")
}

model OhlcvCandle {
  id        BigInt   @id @default(autoincrement())
  symbol    String
  interval  String
  openTime  BigInt
  closeTime BigInt
  open      Decimal
  high      Decimal
  low       Decimal
  close     Decimal
  volume    Decimal
  trades    Int
  createdAt DateTime @default(now())
  
  @@unique([symbol, interval, openTime])
  @@map("ohlcv_candles")
}
